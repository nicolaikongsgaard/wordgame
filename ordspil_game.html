<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordspil</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .score {
            font-size: 1.5em;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 10px;
        }

        .letters-container {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .letters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }

        .letter {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            min-width: 40px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }

        .letter:hover {
            transform: scale(1.1);
        }

        .letter.used {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            opacity: 0.6;
        }

        .input-section {
            margin: 30px 0;
        }

        input[type="text"] {
            padding: 15px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            width: 200px;
            text-align: center;
            text-transform: uppercase;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }

        button {
            padding: 15px 30px;
            font-size: 1.1em;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }

        button:hover {
            transform: scale(1.05);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .message {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            min-height: 20px;
        }

        .success {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4CAF50;
        }

        .error {
            background: rgba(244, 67, 54, 0.3);
            border: 2px solid #f44336;
        }

        .info {
            background: rgba(33, 150, 243, 0.3);
            border: 2px solid #2196F3;
        }

        .word-list {
            margin-top: 20px;
            text-align: left;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            max-height: 200px;
            overflow-y: auto;
        }

        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üéØ Ordspil</h1>
        
        <div class="score">
            Score: <span id="score">0</span>
        </div>

        <div class="letters-container">
            <h3>Dine bogstaver:</h3>
            <div class="letters" id="letters"></div>
        </div>

        <div class="input-section">
            <input type="text" id="wordInput" placeholder="Indtast et ord..." maxlength="14">
            <br>
            <button onclick="submitWord()">Aflev√©r ord</button>
            <button onclick="newGame()">Nyt spil</button>
        </div>

        <div class="message" id="message"></div>

        <div class="controls">
            <button onclick="shuffleLetters()">Bland bogstaver</button>
            <button onclick="showRules()" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">Regler</button>
        </div>

        <div class="word-list">
            <h4>Dine ord:</h4>
            <div id="wordHistory"></div>
        </div>
    </div>

    <script>
        class LetterBag {
            constructor() {
                // Mere vokaler end konsonanter for lettere orddannelse
                this.vowels = 'AEIOU√Ü√ò√Ö';
                this.consonants = 'BCDFGHJKLMNPQRSTVXZ';
                this.letters = [];
                this.fillLetters();
            }

            fillLetters() {
                while (this.letters.length < 14) {
                    // 40% chance for vokal, 60% for konsonant (mere balanceret)
                    if (Math.random() < 0.4) {
                        this.letters.push(this.vowels[Math.floor(Math.random() * this.vowels.length)]);
                    } else {
                        this.letters.push(this.consonants[Math.floor(Math.random() * this.consonants.length)]);
                    }
                }
            }

            removeUsedLetters(word) {
                for (let char of word) {
                    const index = this.letters.indexOf(char);
                    if (index > -1) {
                        this.letters.splice(index, 1);
                    }
                }
                this.fillLetters();
            }

            isValidLetters(word) {
                const tempLetters = [...this.letters];
                for (let char of word) {
                    const index = tempLetters.indexOf(char);
                    if (index === -1) return false;
                    tempLetters.splice(index, 1);
                }
                return true;
            }

            shuffle() {
                for (let i = this.letters.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [this.letters[i], this.letters[j]] = [this.letters[j], this.letters[i]];
                }
            }
        }

        class Player {
            constructor() {
                this.score = 0;
                this.wordsPlayed = [];
            }

            addScore(points) {
                this.score += points;
            }

            addWord(word, points) {
                this.wordsPlayed.push({ word, points });
            }
        }

        class WordValidator {
            constructor() {
                // Meget st√∏rre dansk ordbog
                this.dictionary = new Set([
                    // Grundl√¶ggende ord
                    'HUND', 'KAT', 'HUS', 'BIL', 'MAD', 'VEN', 'MOR', 'FAR', 'S√òN', 'DAG',
                    'NAT', 'SOL', 'M√ÖNE', 'VAND', 'ILD', 'LUFT', 'TR√Ü', 'STEN', 'GULD', 'S√ò',
                    'HAV', 'BJERG', 'DAL', 'VEJ', 'STI', 'D√òR', 'VINDUE', 'BORD', 'STOL', 'SENG',
                    
                    // Kropsdele
                    'HOVED', '√òJE', '√òRE', 'N√ÜSE', 'MUND', 'TAND', 'HALS', 'ARM', 'H√ÖND', 'FINGER',
                    'BEN', 'FOD', 'T√Ö', 'RYGG', 'MAVE', 'HJERTE', 'HJERNE', 'BLOD', 'KNOGLE', 'HUD',
                    
                    // Mad og drikke
                    'KAFFE', 'TE', 'BR√òD', 'KAGE', '√òL', 'VIN', 'M√ÜLK', 'SM√òR', 'OST', '√ÜG',
                    'KYLLING', 'K√òD', 'GR√òNT', 'FRUGT', '√ÜBLE', 'BANAN', 'APPELSIN', 'JORDB√ÜR',
                    'KARTOFFEL', 'L√òGE', 'GULERODE', 'TOMAT', 'SALAT', 'PASTA', 'RIS', 'FISK',
                    'P√òLSE', 'PIZZA', 'BURGER', 'SUPPE', 'SAUCE', 'SALT', 'PEBER', 'SUKKER',
                    
                    // Farver
                    'R√òD', 'BL√Ö', 'GR√òN', 'GUL', 'SORT', 'HVID', 'PINK', 'LILLA', 'ORANGE',
                    'BRUN', 'GR√Ö', 'BEIGE', 'TURKIS', 'CYAN',
                    
                    // Egenskaber
                    'STOR', 'LILLE', 'H√òJ', 'LAV', 'LANG', 'KORT', 'BRED', 'SMAL', 'TYK', 'TYND',
                    'GLAD', 'TRIST', 'SUR', 'S√òDE', 'SALT', 'BITTER', 'VARM', 'KOLD', 'V√ÖDE', 'T√òR',
                    'NY', 'GAMMEL', 'UNG', '√ÜLDRE', 'HURTIG', 'LANGSOM', 'ST√ÜRK', 'SVAG', 'RIG', 'FATTIG',
                    'SMART', 'DUM', 'P√ÜNE', 'GRIM', 'SUND', 'SYG', 'FRISK', 'TR√ÜT', 'LYKKELIG',
                    
                    // Uddannelse
                    'SKOLE', 'L√ÜRER', 'ELEV', 'KLASSE', 'OPGAVE', 'PR√òVE', 'KARAKTER', 'FERIE', 'ARBEJDE',
                    'UNIVERSITET', 'STUDENT', 'BOG', 'PEN', 'PAPIR', 'COMPUTER', 'TELEFON', 'TABLET',
                    
                    // Penge og handel
                    'PENGE', 'BANK', 'BUTIK', 'MARKED', 'K√òBE', 'S√ÜLGE', 'BETALE', 'GRATIS', 'DYR', 'BILLIG',
                    'PRIS', 'RABAT', 'TILBUD', 'REGNING', 'KVITTERING', 'KORT', 'KONTANT',
                    
                    // Familie
                    'FAMILIE', 'BARN', 'BABY', 'BEDSTEMOR', 'BEDSTEFAR', 'ONKEL', 'TANTE', 'F√ÜTTER', 'KUSINE',
                    'S√òSTER', 'BROR', 'DATTER', 'NIECE', 'NEV√ò', 'SVIGERMOR', 'SVIGERFAR',
                    
                    // Steder
                    'HJEM', 'GADE', 'BY', 'LAND', 'VERDEN', 'HIMMEL', 'JORD', 'SAND', 'GR√ÜS', 'PARK',
                    'ZOO', 'MUSEUM', 'TEATER', 'BIOGRAFEN', 'RESTAURANT', 'CAF√â', 'HOTEL', 'STRAND', 'SKOV',
                    'KIRKE', 'HOSPITAL', 'APOTEK', 'STATION', 'LUFTHAVN', 'BRIDGE', 'TUNNEL',
                    
                    // Begivenheder
                    'FEST', 'F√òDSELSDAG', 'BRYLLUP', 'GAVE', 'K√ÜRESTE', '√ÜGTEF√ÜLLE', 'KRAM', 'KYS', 'K√ÜRLIGHED',
                    'M√òDE', 'INTERVIEW', 'KONCERT', 'SHOW', 'PARADE', 'MARKED', 'MESSE',
                    
                    // Tid
                    'TID', 'TIME', 'MINUT', 'SEKUND', 'UGE', 'M√ÖNED', '√ÖR', 'FORTID', 'NUTID', 'FREMTID',
                    'MORGEN', 'MIDDAG', 'AFTEN', 'MANDAG', 'TIRSDAG', 'ONSDAG', 'TORSDAG', 'FREDAG', 'L√òRDAG', 'S√òNDAG',
                    'JANUAR', 'FEBRUAR', 'MARTS', 'APRIL', 'MAJ', 'JUNI', 'JULI', 'AUGUST', 'SEPTEMBER', 'OKTOBER', 'NOVEMBER', 'DECEMBER',
                    
                    // Sport og fritid
                    'SPORT', 'FODBOLD', 'TENNIS', 'SV√òMNING', 'L√òBE', 'G√ÖTURE', 'RIDNING', 'SEJLSPORT',
                    'CYKLING', 'SKIING', 'HOCKEY', 'BASKETBALL', 'VOLLEYBALL', 'GOLF', 'BOWLING',
                    'MUSIK', 'SANG', 'DANS', 'FILM', 'SPIL', 'BOLD', 'CYKEL', 'TOG', 'FLY', 'SKIB',
                    
                    // Vejr
                    'VEJR', 'REGN', 'SNE', 'STORM', 'VIND', 'SKY', 'TORDEN', 'LYN', 'REGNBUE',
                    'IS', 'FROST', 'SOMMER', 'VINTER', 'FOR√ÖR', 'EFTER√ÖR', 'SOLSKIN', 'SKYGGE',
                    
                    // F√∏lelser og adf√¶rd
                    'LEGE', 'MORE', 'SJOV', 'LATTER', 'SMIL', 'GL√ÜDE', 'LYKKE', 'FRED', 'H√ÖBE', 'DR√òM',
                    'FRYGT', 'ANGST', 'VREDE', 'SORG', 'STRESS', 'ROLIG', 'NERV√òS', 'STOLT', 'JALOUX',
                    
                    // Dyr
                    'FISK', 'FUGL', 'HEST', 'KO', 'GRIS', 'FAR', 'KANIN', 'MUS', 'ROTTE', 'SLANGE',
                    'L√òVE', 'TIGER', 'ELEFANT', 'ABER', 'ULVE', 'BJ√òRN', 'HJORT', 'R√ÖDYR',
                    
                    // Natur
                    'BLOMST', 'ROSE', 'TULIPAN', 'SOLSIKKE', 'LILLE', 'BUSKE', 'BLADE', 'ROD', 'FR√òE',
                    'SKOV', 'MARK', 'ENG', 'HAVE', 'PLANTE', 'UKRUDT', 'FRUGT', 'B√ÜR', 'N√òDDE',
                    
                    // Aktiviteter og verber
                    'SPISE', 'DRIKKE', 'SOVE', 'V√ÖGEN', 'G√Ö', 'L√òBE', 'HOPPE', 'DANSE', 'SYNGE', 'TALE',
                    'LYTTE', 'SE', 'L√ÜSE', 'SKRIVE', 'TEGNE', 'MALE', 'BYGGE', 'LAVE', 'REPARERE',
                    'RENSE', 'VASKE', 'T√òRRE', 'STRYGE', 'KOGE', 'BAGE', 'GRILLE', 'FRITERE',
                    '√ÖBNE', 'LUKKE', 'STARTE', 'STOPPE', 'VENTE', 'HJ√ÜLPE', 'L√ÜRE', 'UNDERVISE',
                    'ARBEJDE', 'HVILE', 'LEGE', '√òVER', 'TR√ÜNER', 'KONKURRERE', 'VINDE', 'TABE',
                    
                    // Sm√•ord og hverdagsord
                    'OG', 'ELLER', 'MEN', 'FORDI', 'HVIS', 'HVAD', 'HVOR', 'HVEM', 'HVORN√ÖR', 'HVORFOR',
                    'JA', 'NEJ', 'M√ÖSKE', 'ALDRIG', 'ALTID', 'NOGLE', 'ALLE', 'INGEN', 'MANGE', 'F√Ö',
                    'HER', 'DER', 'OVER', 'UNDER', 'MELLEM', 'VED', 'SIDEN', 'FORAN', 'BAGVED',
                    'IND', 'UD', 'OP', 'NED', 'TIL', 'FRA', 'MED', 'UDEN', 'FOR', 'EFTER',
                    
                    // Teknologi
                    'INTERNET', 'EMAIL', 'WEBSITE', 'APP', 'SOFTWARE', 'PROGRAM', 'DATA', 'FILE',
                    'SK√ÜRM', 'TASTATUR', 'MUS', 'PRINTER', 'SCANNER', 'ROUTER', 'MODEM',
                    
                    // T√∏j og mode
                    'T√òJ', 'SKJORTE', 'BUKSER', 'KJOLE', 'NEDERDEL', 'JAKKE', 'FRAKKE', 'SKO',
                    'STR√òMPER', 'UNDERT√òJ', 'HAT', 'KASKET', 'HANDSKER', 'HALST√òRKL√ÜDE',
                    
                    // Redskaber og v√¶rkt√∏j
                    'HAMMER', 'SAV', 'SKRUETR√ÜKKER', 'TANG', 'KNIV', 'SAKS', 'N√ÖLE', 'TR√ÖD',
                    'LASSO', 'SPAND', 'KOST', 'KLUD', 'S√ÖBE', 'SHAMPOO', 'TANDPASTRA',
                    
                    // Forskellige
                    'LYDE', 'MUSIK', 'RYTME', 'MELODI', 'HARMONI', 'INSTRUMENT', 'GUITAR', 'PIANO',
                    'VIOLIN', 'DRUMS', 'MIKROFON', 'H√òJTTALER', 'RADIO', 'TV', 'FJERNBETJENING',
                    'BATTERI', 'STR√òM', 'ELEKTRICITET', 'LYS', 'LAMPE', 'P√ÜRE', 'STIKKONTAKT',
                    
                    // Ord med √Ü, √ò, √Ö
                    '√ÜRE', '√ÜRE', 'GR√ÜDE', 'V√ÜRE', 'K√ÜRE', 'L√ÜRE', 'H√òRE', 'R√òRE', 'T√òRE', 'B√òRE',
                    'F√òDT', 'K√òBT', 'SOLGT', 'BYGGET', 'LAVET', '√ÖBEN', 'V√ÖGEN', 'SP√òRGE', 'SVARE'
                ]);
                
                // Backup ordbog til at tjekke almindelige danske ord
                this.simpleWords = new Set([
                    '√òVE', '√òL', '√ÜG', 'IS', 'TO', 'TRE', 'FIRE', 'FEM', 'SEKS', 'SYV', 'OTTE', 'NI', 'TI',
                    'EN', 'ET', 'DE', 'DEN', 'DET', 'DU', 'JEG', 'VI', 'I', 'HAN', 'HUN', 'MIN', 'DIN', 'SIN',
                    'MIT', 'DIT', 'SIT', 'VOR', 'V√ÜR', 'HAR', 'ER', 'VAR', 'BLE', 'GIV', 'TAG', 'KOM', 'GIK'
                ]);
            }

            isValidWord(word) {
                const upperWord = word.toUpperCase();
                return this.dictionary.has(upperWord) || this.simpleWords.has(upperWord);
            }

            getHint(availableLetters) {
                const possibleWords = Array.from(this.dictionary).filter(word => {
                    if (word.length > availableLetters.length) return false;
                    const tempLetters = [...availableLetters];
                    for (let char of word) {
                        const index = tempLetters.indexOf(char);
                        if (index === -1) return false;
                        tempLetters.splice(index, 1);
                    }
                    return true;
                });
                
                if (possibleWords.length > 0) {
                    return possibleWords[Math.floor(Math.random() * possibleWords.length)];
                }
                return null;
            }
        }

        // Game instances
        let letterBag = new LetterBag();
        let player = new Player();
        let validator = new WordValidator();

        function displayLetters() {
            const lettersDiv = document.getElementById('letters');
            lettersDiv.innerHTML = '';
            
            letterBag.letters.forEach((letter, index) => {
                const letterDiv = document.createElement('div');
                letterDiv.className = 'letter';
                letterDiv.textContent = letter;
                letterDiv.id = `letter-${index}`;
                lettersDiv.appendChild(letterDiv);
            });
        }

        function updateScore() {
            document.getElementById('score').textContent = player.score;
        }

        function showMessage(text, type = 'info') {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = `message ${type}`;
        }

        function updateWordHistory() {
            const historyDiv = document.getElementById('wordHistory');
            historyDiv.innerHTML = '';
            
            player.wordsPlayed.forEach(entry => {
                const wordDiv = document.createElement('div');
                wordDiv.innerHTML = `<strong>${entry.word}</strong> - ${entry.points} point`;
                historyDiv.appendChild(wordDiv);
            });
        }

        function submitWord() {
            const input = document.getElementById('wordInput');
            const word = input.value.toUpperCase().trim();
            
            if (word.length < 2) {
                showMessage('Ordet skal v√¶re mindst 2 bogstaver langt!', 'error');
                return;
            }

            if (!letterBag.isValidLetters(word)) {
                showMessage('Du har ikke de n√∏dvendige bogstaver!', 'error');
                return;
            }

            // Ordbogstjek sl√•et fra - kun bogstavtjek
            // if (!validator.isValidWord(word)) {
            //     showMessage('Dette ord findes ikke i ordbogen!', 'error');
            //     return;
            // }

            if (player.wordsPlayed.some(entry => entry.word === word)) {
                showMessage('Du har allerede brugt dette ord!', 'error');
                return;
            }

            // Beregn point - l√¶ngere ord giver bonus
            let points = word.length;
            if (word.length >= 6) points += 2;
            if (word.length >= 8) points += 3;
            
            player.addScore(points);
            player.addWord(word, points);
            letterBag.removeUsedLetters(word);
            
            showMessage(`Flot! "${word}" gav dig ${points} point!`, 'success');
            input.value = '';
            
            displayLetters();
            updateScore();
            updateWordHistory();
        }

        function shuffleLetters() {
            letterBag.shuffle();
            displayLetters();
            showMessage('Bogstaverne er blevet blandet!', 'info');
        }

        function getHint() {
            // Hint-funktion sl√•et fra da ordbog ikke bruges
            showMessage('Hint-funktionen er ikke tilg√¶ngelig uden ordbog.', 'info');
        }

        function newGame() {
            if (confirm('Er du sikker p√•, du vil starte et nyt spil? Din nuv√¶rende score vil blive nulstillet.')) {
                letterBag = new LetterBag();
                player = new Player();
                
                displayLetters();
                updateScore();
                updateWordHistory();
                showMessage('Nyt spil startet! Held og lykke!', 'success');
                document.getElementById('wordInput').value = '';
            }
        }

        function showRules() {
            alert(`REGLER FOR ORDSPILLET:

üéØ M√ÖL: Lav s√• mange gyldige danske ord som muligt

üìù S√ÖDAN SPILLER DU:
‚Ä¢ Du f√•r 14 tilf√¶ldige bogstaver
‚Ä¢ Dan ord ved at bruge de tilg√¶ngelige bogstaver
‚Ä¢ Ord skal v√¶re mindst 2 bogstaver lange
‚Ä¢ Du kan bruge ethvert ord du kan t√¶nke p√•
‚Ä¢ Du kan kun bruge hvert ord √©n gang

üèÜ POINT:
‚Ä¢ 1 point per bogstav i ordet
‚Ä¢ +2 bonus for ord p√• 6+ bogstaver
‚Ä¢ +3 bonus for ord p√• 8+ bogstaver

üí° TIPS:
‚Ä¢ Brug "Bland bogstaver" hvis du sidder fast
‚Ä¢ Pr√∏v b√•de korte og lange ord for mere variation
‚Ä¢ T√¶nk p√• almindelige danske ord
‚Ä¢ Du bestemmer selv om ordet er gyldigt!

Held og lykke! üçÄ`);
        }

        // Event listeners
        document.getElementById('wordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                submitWord();
            }
        });

        // Initialize game
        displayLetters();
        updateScore();
        showMessage('Velkommen til Ordspillet! Dan ord med de tilg√¶ngelige bogstaver.', 'success');
    </script>
</body>
</html>